<div class="layout-wrapper">      
    <div class="layout-content">
        <div class="p-component">
            <div class="p-d-flex p-jc-end p-mb-3">
                <p-button icon="pi pi-refresh" 
                    label="Actualizar" 
                    (onClick)="listarRoles()"
                    styleClass="p-button-outlined p-button-primary p-mr-2">
                </p-button>
                <p-button icon="pi pi-plus" 
                    label="Nuevo Rol"
                    (onClick)="showDialogCreate()"
                    styleClass="p-button-outlined p-button-info">
                </p-button>
            </div>

            <span class="p-input-icon-left p-mb-3">
                <i class="pi pi-search"></i>
                <input pInputText type="text" [(ngModel)]="filtroNombre" 
                    placeholder="Buscar por nombre"/>
            </span>

            <p-table [value]="filtrarRoles()" 
                [responsive]="true" 
                [loading]="cargando"
                [paginator]="true" 
                [rows]="5"
                [showCurrentPageReport]="true">
                <ng-template pTemplate="header">
                    <tr>
                        <th>#</th>
                        <th>Nombre</th>
                        <th>Estado</th>
                        <th>Acci√≥n</th>
                    </tr>
                </ng-template>

                <ng-template pTemplate="body" let-rol let-i="rowIndex">
                    <tr>
                        <td>{{ i + 1 }}</td>
                        <td>{{ rol.nombre }}</td>
                        <td>{{ rol.estado ? rol.estado.nombre : 'N/A' }}</td>
                        <td>
                            <p-button icon="pi pi-pencil"
                                (onClick)="showDialogEdit(rol.id)"
                                styleClass="p-button-rounded p-button-text p-button-success p-mr-2">
                            </p-button>
                            <p-button icon="pi pi-trash"
                                (onClick)="deleteRol(rol.id)"
                                styleClass="p-button-rounded p-button-text p-button-danger">
                            </p-button>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>
